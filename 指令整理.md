# 8-1 查看行程狀態
### 靜態
* `ps` : 觀察行程資訊(Process Status)
	* 常搭配 `|grep 關鍵字` 來篩選服務，如 `ps |grep crond`
    * `ps -f` : 列印更詳細的資訊
    * `ps -ef` : 觀察系統內包括服務的所有行程（SystemV風格）
    * `ps aux` :  觀察系統內包括服務的所有行程（BSD風格）
        * `ps aux |more` : 常搭配 `more` 來分頁檢視
### 動態（類似工作管理員）
* `top` : 不只能動態觀察，還能查看 CPU, RAM 整體資訊
    * `cat /proc/cpuinfo` : 查看 CPU 使用率
    * `free` 和 `cat /proc/meminfo` : 查看記憶體使用量
### 行程之間的關聯性
* `pstree` : 查看行程之間的關聯性

# 8-2 前/背景行程
### 背景行程(background process) : 背景執行的行程
* 指令最後加上 `&`，代表丟到背景執行，如 `updatedb &`
* Ctrl + Z 停止後，能再用 `bg` 將最後停止的行程放入**背景**執行
* `jobs` : 觀察背景行程資訊（記得要加s）
### 前景行程(foreground process) : 前端執行的行程
* `fg` : 將背景行程取回前景
* 能透過 `jobs` 查看背景行程編號，再加上編號取回特定背景行程至前景，如 `fg 2`

# 8-3 行程的管理
### 優先權 = NICE值 + PRI值，數字低越優先
* nice 值越高，優先權越低
* nice 值能透過 `ps l` 的 NI 欄位查看
* 能透過 `nice -n 優先權 指令` 設定 nice 值
    * 如 : `nice -n 3 sleep 60`
* `renice NICE值 PID` : 調整行程優先順序
    * 如 : `renice 10 1755`
### 刪除行程 kill
* `kill PID` : 能刪除指定 PID 的行程，如 `kill 2799` (PID 可透過 `ps` 查看)
* kill 指令預設訊號為 15 號，可手動設定成 9 號來強制關閉
    * 如 : `kill -9 2864`
* `killall` : 能將同名稱的行程一併結束
    * 如 : `killall httpd`

# 9-1 FirewallD 防火牆
* 以前 : iptables，現在 : FirewallD
* 優點 : 能動態設定，不用重開機
* `firewall-cmd --state` : 查看防火牆狀態 // 是 firewall 而不是 firewalld（後面沒有 d）
    * 或 `systemctl status firewalld`（更詳細）
* `systemctl start/stop/restart firewallld`

* `firewall-cmd --get-active-zone` : 列出目前已設定的 zone
* `firewall-cmd zone=public --list-all` : 列出 zone 的詳細設定
* `firewall-cmd --get-zones` : 列出所有可使用的 zones

* `firewall-cmd --zone=home --change-interface=enp0s3` : 將 enp0s3 網路介面的 zone 設定為 home
* `firewall-cmd --zone=home --change-interface=enp0s3 --permanent` : 重啟 FirewallD服務都會消失，因此加註 `--permanent` 來寫入設定檔
* `firewall-cmd --reload` : 重新讀取設定檔

# 9-1-2 Service, Port
* `firewall-cmd --get-services` : 列出所有可使用的 services
* `firewall-cmd --zone=public --add-service=dns` : 新增 dns 服務到 public zone
* `firewall-cmd --zone=public --add-port=9958/tcp` : 新增 9958/tcp port 到 public zone

# 9-2 setup 管理工具
* `echo $LANG` : 透過環境變數查看語言
* `LANG=C` : 設定成英文
* `setup` : 開啟 setup 管理工具

# 9-3 壓縮檔案－備份
### gzip(.gz)
* 用 gzip 壓縮/解壓縮檔案時，原檔案會被取代
* `gzip testfile` : 壓縮
* `gunzip testfile.gz` : 解壓縮
### zip
* 原檔案**不會**被取代
* `zip -r testfile.zip testfile` : 壓縮
* `unzip testfile.zip` : 解壓縮
### tar
* `tar -cvf fileall.tar file1 file2 file3` : 壓縮
* `tar -xvf fireall.tar` : 解壓縮
* `tar -tvf fileall.tar` : 列出/包裹檔內的檔案清單(t for test)
### tgz(tar.gz)
* 相較於 tar ，需要多加上 z 選項
* `tar -cvfz fileall.tgz file1 file2 file3` : 壓縮
* `tar -xvfz fileall.tgz` : 解壓縮
* 以上兩行的副檔名 `tgz` 都能更換成 `tar.gz`
### bzip2
* 用 bzip2 壓縮/解壓縮檔案時，原檔案會被取代
* `bzip testfile` : 壓縮
* `bunzip testfile.bz2` : 解壓縮

# 9-4 系統時間與時區
* `usr/share/zoneinfo/Asia/Taipei`
* `date` 顯示時間
    * `date +%Y%m%d%H%M%S` : 指定格式（要加 + 符號）
    * `date 月月日日分分秒秒年年年年` : 也可更改時間